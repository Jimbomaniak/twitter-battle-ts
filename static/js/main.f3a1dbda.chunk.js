(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(62)},33:function(e,t,a){},35:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(24),c=a.n(l),o=(a(33),a(3)),s=a(4),i=a(7),u=a(5),m=a(8),p=(a(35),a(11)),h=a.n(p),f="?client_id=".concat("85765946457c8c2c2885","&client_secret=").concat("9a4ad3b170b6b727802fe674c230198bb39bf0fe"),b="https://api.github.com/users/",d=function(e){return h.a.get("".concat(b).concat(e,"/repos").concat(f,"&per_page=100"))},E=function(e,t){return 3*e.followers+function(e){return e.data.reduce(function(e,t){return e+t.stargazers_count},0)}(t)},v=function(e){return console.warn(e),null},g=function(e){return h.a.all([(t=e,h.a.get("".concat(b).concat(t+f)).then(function(e){return e.data})),d(e)]).then(function(e){var t=e[0],a=e[1];return{profile:t,score:E(t,a)}});var t},y=function(e){return e.sort(function(e,t){return t.score-e.score})},w={battle:function(e){return h.a.all(e.map(g)).then(y).catch(v)},fetchPopularRepos:function(e){var t="https://api.github.com/search/repositories?q=stars:>1+language:"+e+"&sort=stars&order=desc&type=Repositories",a=window.encodeURI(t);return h.a.get(a).then(function(e){return e.data.items})}},O={textAlign:"center",fontSize:"35px"},N=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).interval=0,a.state={text:a.props.text},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="".concat(this.props.text,"...");this.interval=window.setInterval(function(){e.state.text===t?e.setState({text:e.props.text}):e.setState(function(e){return{text:e.text+"."}})},this.props.speed)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"render",value:function(){return r.a.createElement("p",{style:O},this.state.text)}}]),t}(n.Component);N.defaultProps={text:"Loading",speed:300};var j=N,S=["All","Javascript","Ruby","Java","CSS","Python"],k=function(e){return r.a.createElement("ul",{className:"languages"},S.map(function(t){return r.a.createElement("li",{style:t===e.selectedLanguage?{color:"#d0021b"}:void 0,onClick:e.onSelect.bind(null,t),key:t},t)}))},T=function(e){return r.a.createElement("ul",{className:"popular-list"},e.repos.map(function(e,t){return r.a.createElement("li",{key:e.name,className:"popular-item"},r.a.createElement("div",{className:"popular-rank"}," #",t+1),r.a.createElement("ul",{className:"space-list-items"},r.a.createElement("li",null,r.a.createElement("a",{href:e.html_url,target:"_blank"},r.a.createElement("img",{className:"avatar",src:e.owner.avatar_url,alt:"Avatar for ".concat(e.owner.login)}))),r.a.createElement("li",null,r.a.createElement("a",{href:e.html_url},e.name)),r.a.createElement("li",null,"@",e.owner.login),r.a.createElement("li",null,e.stargazers_count," stars")))}))},x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={selectedLanguage:"All",repos:null},a.updateLanguage=function(e){a.setState({selectedLanguage:e,repos:null}),w.fetchPopularRepos(e).then(function(e){return a.setState({repos:e})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log("------","mount"),this.updateLanguage(this.state.selectedLanguage)}},{key:"render",value:function(){var e=this.state,t=e.selectedLanguage,a=e.repos;return r.a.createElement("div",{className:"popular"},r.a.createElement(k,{selectedLanguage:t,onSelect:this.updateLanguage}),a?r.a.createElement(T,{repos:a}):r.a.createElement(j,{text:"Downloading"}))}}]),t}(n.Component),C=a(65),B=a(66),_=a(63),I=a(64),L=function(){return r.a.createElement("ul",{className:"nav"},r.a.createElement("li",null,r.a.createElement(I.a,{exact:!0,activeClassName:"active",to:"/TwitterBattle"},"Home")),r.a.createElement("li",null,r.a.createElement(I.a,{activeClassName:"active",to:"/TwitterBattle/battle"},"Battle")),r.a.createElement("li",null,r.a.createElement(I.a,{activeClassName:"active",to:"/TwitterBattle/popular"},"Popular")))},R=a(59),A=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home-container"},r.a.createElement("h1",null,"Github Battle: Battle your friends... and stuff."),r.a.createElement(R.a,{className:"button",to:"/TwitterBattle/battle"},"Battle"))}}]),t}(n.Component),P=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"column"},r.a.createElement("a",{href:e.userurl,target:"_blank"},r.a.createElement("img",{className:"avatar",src:e.avatar,alt:"Avatar for ".concat(e.username)})),r.a.createElement("h2",{className:"username"},"@".concat(e.username))),e.children)},z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:""},a.handleChange=function(e){var t=e.target;a.setState({username:t.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.onSubmit(a.props.id,a.state.username)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{className:"column",onSubmit:this.handleSubmit},r.a.createElement("label",{className:"header",htmlFor:"username"},this.props.label),r.a.createElement("input",{id:"username",placeholder:"github username",type:"text",autoComplete:"off",value:this.state.username,onChange:this.handleChange}),r.a.createElement("button",{className:"button",type:"submit",disabled:!this.state.username},"Submit"))}}]),t}(n.Component),D=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={playerOneName:"",playerTwoName:"",playerOneImage:"",playerTwoImage:""},a.handleSubmit=function(e,t){"playerOne"===e?a.setState({playerOneName:t,playerOneImage:"https://github.com/".concat(t,".png?size=200")}):a.setState({playerTwoName:t,playerTwoImage:"https://github.com/".concat(t,".png?size=200")})},a.handleReset=function(e){"playerOne"===e?a.setState({playerOneName:"",playerOneImage:""}):a.setState({playerTwoName:"",playerTwoImage:""})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.match,t=this.state,a=t.playerOneName,n=t.playerTwoName,l=t.playerOneImage,c=t.playerTwoImage;return r.a.createElement("div",{className:"players"},r.a.createElement("div",{className:"row"},!a&&r.a.createElement(z,{id:"playerOne",label:"Player One",onSubmit:this.handleSubmit}),!!l&&r.a.createElement(P,{avatar:l,username:a,id:"playerOne",userurl:"https://github.com/".concat(a)},r.a.createElement("button",{className:"reset",onClick:this.handleReset.bind(null,"playerOne")},"Reset")),!n&&r.a.createElement(z,{id:"playerTwo",label:"Player Two",onSubmit:this.handleSubmit}),!!c&&r.a.createElement(P,{avatar:c,username:n,id:"playerTwo",userurl:"https://github.com/".concat(n)},r.a.createElement("button",{className:"reset",onClick:this.handleReset.bind(null,"playerTwo")},"Reset"))),l&&c&&r.a.createElement(R.a,{className:"button",to:{pathname:"".concat(e.url,"/results"),search:"?playerOneName=".concat(a,"&playerTwoName=").concat(n)}},"Battle"))}}]),t}(n.Component),F=a(26),J=a.n(F),W=function(e){var t=e.info,a=t.avatar_url,n=t.login,l=t.html_url,c=t.name,o=t.location,s=t.company,i=t.followers,u=t.following,m=t.public_repos,p=t.blog;return r.a.createElement(P,{avatar:a,username:n,userurl:l},r.a.createElement("ul",{className:"space-list-items"},c&&r.a.createElement("li",null,c),o&&r.a.createElement("li",null,o),s&&r.a.createElement("li",null,s),r.a.createElement("li",null,"Followers: ",i),r.a.createElement("li",null,"Following: ",u),r.a.createElement("li",null,"Public Repos: ",m),p&&r.a.createElement("li",null,r.a.createElement("a",{href:p},p))))},M=function(e){return r.a.createElement("div",null,r.a.createElement("h1",{className:"header"}," ",e.label),e.score&&r.a.createElement("h3",{style:{textAlign:"center"}},"Score: ",e.score),e.profile&&r.a.createElement(W,{info:e.profile}))},G=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={winner:null,loser:null,error:null,loading:!0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=J.a.parse(this.props.location.search.slice(1));w.battle([t.playerOneName,t.playerTwoName]).then(function(t){if(null===t)return e.setState({error:"Looks like there was error. Check that both users exist on GitHub",loading:!1});e.setState({error:null,winner:t[0],loser:t[1],loading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.winner,n=e.loser;return!0===e.loading?r.a.createElement(j,null):t?r.a.createElement("div",null,r.a.createElement("p",null,t),r.a.createElement(R.a,{to:"TwitterBattle/battle"},"Reset")):a&&n?r.a.createElement("div",{className:"players"},r.a.createElement("div",{className:"row"},r.a.createElement(M,{label:"Winner",score:a.score,profile:a.profile}),r.a.createElement(M,{label:"Loser",score:n.score,profile:n.profile}))):r.a.createElement("div",null,r.a.createElement("p",null," No data "))}}]),t}(n.Component),H=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(C.a,null,r.a.createElement("div",{className:"container"},r.a.createElement(L,null),r.a.createElement(B.a,null,r.a.createElement(_.a,{exact:!0,path:"/TwitterBattle",component:A}),r.a.createElement(_.a,{exact:!0,path:"/TwitterBattle/battle",component:D}),r.a.createElement(_.a,{path:"/TwitterBattle/battle/results",component:G}),r.a.createElement(_.a,{path:"/TwitterBattle/popular",component:x}),r.a.createElement(_.a,{render:function(){return r.a.createElement("p",null,"Not Found")}}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,2,1]]]);
//# sourceMappingURL=main.f3a1dbda.chunk.js.map